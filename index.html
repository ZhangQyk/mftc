<!DOCTYPE html>
<html lang="zh-CN">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>秋枫的图床</title>
	<style>
		* {
		    margin: 0;
		    padding: 0;
		    box-sizing: border-box;
		}
		
		body {
		    font-family: 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
		    background-color: #f0f2f5;
		    display: flex;
		    flex-direction: column;
		    justify-content: center;
		    align-items: center;
		    min-height: 100vh;
		    padding: 20px;
		    position: relative;
		}
		
		body::before {
		    content: "";
		    position: fixed;
		    top: 0;
		    left: 0;
		    width: 100%;
		    height: 100%;
		    background-image: url('https://imgapi.xl0408.top/');
		    background-size: cover;
		    background-position: center;
		    filter: blur(8px) brightness(0.7);
		    z-index: -1;
		}
		
		.container, .hitokoto-container {
		    background: rgba(255, 255, 255, 0.15);
		    backdrop-filter: blur(20px);
		    -webkit-backdrop-filter: blur(20px);
		    border: 1px solid rgba(255, 255, 255, 0.2);
		    border-radius: 20px;
		    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
		    padding: 40px;
		    width: 100%;
		    max-width: 500px;
		    text-align: center;
		    margin-bottom: 30px;
		    color: #ffffff;
		    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
		}
		
		h1 {
		    font-size: 24px;
		    margin-bottom: 25px;
		    font-weight: 600;
		}
		
		.upload-area {
		    margin-bottom: 25px;
		}
		
		.file-input-wrapper {
		    position: relative;
		    overflow: hidden;
		    display: inline-block;
		    width: 100%;
		    margin-bottom: 20px;
		    cursor: pointer;
		    border-radius: 12px;
		    background: rgba(255, 255, 255, 0.1);
		    transition: all 0.3s ease;
		}
		
		.file-input-wrapper:hover {
		    background: rgba(255, 255, 255, 0.2);
		}
		
		.file-input-button {
		    display: block;
		    width: 100%;
		    padding: 14px;
		    color: #ffffff;
		    font-size: 16px;
		    text-align: center;
		    pointer-events: none;
		}
		
		input[type="file"] {
		    position: absolute;
		    left: 0;
		    top: 0;
		    opacity: 0;
		    width: 100%;
		    height: 100%;
		    cursor: pointer;
		}
		
		button {
		    background: rgba(255, 255, 255, 0.15);
		    color: #ffffff;
		    padding: 12px 30px;
		    font-size: 16px;
		    border: none;
		    border-radius: 50px;
		    cursor: pointer;
		    transition: all 0.3s ease;
		    font-weight: 500;
		    width: 100%;
		    max-width: 200px;
		    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
		}
		
		button:hover {
		    background: rgba(255, 255, 255, 0.25);
		    transform: translateY(-2px);
		}
		
		.result {
		    margin-top: 25px;
		    padding: 20px;
		    border-radius: 12px;
		    background: rgba(255, 255, 255, 0.1);
		    font-size: 16px;
		    min-height: 40px;
		    overflow-wrap: break-word;
		    word-break: break-all;
		    box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.1);
		}
		
		.hitokoto-container {
		    max-width: 600px;
		}
		
		.hitokoto-content {
		    font-size: 20px;
		    line-height: 1.6;
		    margin-bottom: 15px;
		    font-weight: 500;
		}
		
		.hitokoto-source {
		    font-size: 14px;
		    opacity: 0.8;
		    font-style: italic;
		}
		
		.runtime-container {
		    position: fixed;
		    bottom: 10px;
		    right: 10px;
		    background: rgba(255, 255, 255, 0.1);
		    backdrop-filter: blur(10px);
		    -webkit-backdrop-filter: blur(10px);
		    border: 1px solid rgba(255, 255, 255, 0.2);
		    border-radius: 12px;
		    padding: 10px 15px;
		    font-size: 12px;
		    color: #ffffff;
		    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
		}
		
		.runtime-label {
		    font-weight: 600;
		    margin-right: 5px;
		}
		
		.runtime-value span {
		    display: inline-block;
		    min-width: 20px;
		    text-align: center;
		}
		
		@media (max-width: 600px) {
		    .container, .hitokoto-container {
		        padding: 25px;
		        margin: 10px;
		    }
		    
		    h1 {
		        font-size: 20px;
		    }
		    
		    .hitokoto-content {
		        font-size: 18px;
		    }
		}
	</style>
</head>

<body>
	<div class="hitokoto-container">
		<p id="hitokoto" class="hitokoto-content">正在加载一言...</p>
		<p id="hitokoto-source" class="hitokoto-source"></p>
	</div>

	<div class="container">
		<h1>文件上传</h1>
		<div class="upload-area">
			<form id="uploadForm">
				<div class="file-input-wrapper">
					<div class="file-input-button" id="fileButton">选择文件</div>
					<input type="file" id="fileInput" name="file" accept="image/*" required />
				</div>
				<button type="submit">上传文件</button>
			</form>
		</div>
		<div id="result" class="result"></div>
	</div>

	<div class="runtime-container">
		<span class="runtime-label">运行时间:</span>
		<span class="runtime-value">
			<span id="runtimeDays">0</span>天
			<span id="runtimeHours">00</span>时
			<span id="runtimeMinutes">00</span>分
			<span id="runtimeSeconds">00</span>秒
		</span>
	</div>

	<script>
		/* ================= 1. 一言 ================= */
		async function fetchHitokoto() {
		  try {
		    const res  = await fetch('https://international.v1.hitokoto.cn/');
		    const data = await res.json();
		    document.getElementById('hitokoto').textContent = data.hitokoto;
		    document.getElementById('hitokoto-source').textContent =
		      data.from_who ? `「${data.from}」 ${data.from_who}` :
		      data.from     ? `『${data.from}』` : '';
		  } catch {
		    document.getElementById('hitokoto').textContent = '加载一言失败...';
		  }
		}
		
		/* ================= 2. 网站运行时间 ================= */
		function updateRuntime() {
		  const start = new Date(2025, 7, 1, 0, 0, 0, 0);
		  const diff  = Date.now() - start;
		  const d = Math.floor(diff / 864e5);
		  const h = String(Math.floor(diff / 36e5) % 24).padStart(2, '0');
		  const m = String(Math.floor(diff / 6e4)  % 60).padStart(2, '0');
		  const s = String(Math.floor(diff / 1e3)  % 60).padStart(2, '0');
		  runtimeDays.textContent    = d;
		  runtimeHours.textContent   = h;
		  runtimeMinutes.textContent = m;
		  runtimeSeconds.textContent = s;
		}
		
		/* ================= 3. 多文件上传 ================= */
		const form       = document.getElementById('uploadForm');
		const resultDiv  = document.getElementById('result');
		const fileInput  = document.getElementById('fileInput');
		const fileButton = document.getElementById('fileButton');
		const uploadBtn  = form.querySelector('button[type=submit]');
		
		/* 允许一次选多张 */
		fileInput.setAttribute('multiple', 'multiple');
		
		/* 显示已选文件名 */
		fileInput.addEventListener('change', () => {
		  const names = [...fileInput.files].map(f => f.name);
		  fileButton.textContent = names.length ? names.join(', ') : '选择文件';
		});
		
		/* 依次上传 */
		form.addEventListener('submit', async (e) => {
		  e.preventDefault();
		  const files = [...fileInput.files];
		  if (!files.length) {
		    resultDiv.innerHTML = '<p>请先选择文件！</p>';
		    return;
		  }
		
		  uploadBtn.disabled = true;
		  uploadBtn.textContent = '上传中...';
		  resultDiv.innerHTML = '<p>正在上传 0 / ' + files.length + '</p>';
		
		  const success = [];
		  const failed  = [];
		
		  for (let i = 0; i < files.length; i++) {
		    const fd = new FormData();
		    fd.append('file', files[i]);
		    try {
		      const res  = await fetch('https://api.xinyew.cn/api/jdtc', {
		        method: 'POST',
		        body: fd
		      });
		      const data = await res.json();
		      if (data.errno === 0) {
		        success.push({ name: files[i].name, url: data.data.url });
		      } else {
		        failed.push({ name: files[i].name });
		      }
		    } catch {
		      failed.push({ name: files[i].name });
		    }
		    resultDiv.innerHTML = `<p>正在上传 ${i + 1} / ${files.length}</p>`;
		  }
		
		  /* 结果：文件名 + 直链 */
		  let html = '<p>成功上传：</p><ul style="list-style:none;padding:0;margin:0;">';
		  success.forEach(item => {
		    html += `<li><a href="${item.url}" target="_blank" style="color:#fff;text-decoration:underline;">${item.name}</a></li>`;
		  });
		  html += '</ul>';
		  if (failed.length) {
		    html += '<p style="color:#ff6b6b;margin-top:8px;">失败：' +
		            failed.map(f => f.name).join('，') + '</p>';
		  }
		  resultDiv.innerHTML = html;
		
		  uploadBtn.disabled = false;
		  uploadBtn.textContent = '上传文件';
		});
		
		/* ================= 4. 初始化 & 定时器 ================= */
		fetchHitokoto();
		updateRuntime();
		setInterval(fetchHitokoto, 10000);
		setInterval(updateRuntime, 1000);
	</script>



</body>

</html>
